---
const url = "/cv.pdf";
---

<div class="mt-6 rounded-2xl border border-slate-200 bg-white shadow-soft overflow-hidden">
  <canvas id="pdf-canvas"></canvas>
</div>

<script client:load type="module">
  import * as pdfjsLib from "pdfjs-dist";
  import workerSrc from "pdfjs-dist/build/pdf.worker.min.mjs?url";
  pdfjsLib.GlobalWorkerOptions.workerSrc = workerSrc;

  const pdf = await pdfjsLib.getDocument("{url}").promise;
  const page = await pdf.getPage(1);
  const viewport = page.getViewport({ scale: 1.4 });

  const canvas = document.getElementById("pdf-canvas");
  const context = canvas.getContext("2d");

  canvas.width = viewport.width;
  canvas.height = viewport.height;

  await page.render({ canvasContext: context, viewport }).promise;
</script>
